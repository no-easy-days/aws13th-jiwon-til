### 객체 관계 매핑 : ORM (Object Relational Mapping)

- **정의: 데이터베이스와 객체 지향 프로그래밍 언어 간의 호환되지 않는 데이터**를 변환하는 프로그래밍 기법.

**데이터베이스와 객체 지향 프로그래밍 언어 간의 호환되지 않는 데이터**란 무엇인가?

→ 객체 지향 프로그래밍: 클래스 /  관계형 데이터베이스: 테이블 사용하기 때문에 모델 간의 불일치가 생기게 됩니다.

1. 세분성: 클래스 객체 모델 > DB의 테이블 수
2. 상속성: 관계형 데이터 베이스에는 상속의 개념이 없어 생기는 불일치 문제
3. 관계형 데이터베이스는 기본키를 이용해 동일성을 정의 / 객체 식별 및 동일성을 모두 고려하는 경우가 있어 생기는 불일치
    
    ex) 기본키가 동일하면 같은 레코드로 정의하지만 JAVA에서는 주소 값이 같거나 내용이 같은 경우를 모두 고려해 정의해야 함
    
4. 관계형 데이터베이스는 외래 키를 사용해 양방향 참조를 정의할 수 있지만, 객체 지향 언어의 객체 참조는 단방향 참조로만 이루어지기 때문에 오는 불일치 문제
    
    → 객체 지향 언어의 경우 양방향 참조를 위해서는 양쪽 객체에 모두 연관을 정의해야 한다.
    

등의 여러가지 문제로 RDB를 객체로 정확히 표현할 수 없기도 하며 객체 지향적으로 설계할수록 더욱더 문제가 심화되는 경향이 있다.

→ ORM를 사용하면 객체 간의 관계를 바탕으로 SQL문(RDBS에서 이해하는 유효한 명령, SELECT INSERT UPDATE DELETE 등)을 자동으로 생성해 주기 때문에 객체를 통해 간접적으로 데이터베이스를 다룰 수 있게 된다.

매핑은 키(key) 역할을 하는 데이터와 값(value) 역할을 하는 데이터를 짝 지어(=연결 지어) 저장하는 데이터 구조를 말한다.

SQL Alchemy: Python에서 사용되는 강력하고 유연한 ORM 라이브러리

→ RDB와 상호작용을 쉽고 효율적으로 만들어주고, SQL과 객체지향 프로그래밍 사이의 간격을 줄여준다.

SQL 방식

```sql
SELECT * FROM member;
```

ORM 방식

```python
member.findAll();
```

장점) 

- 개발 생산성 향상 - SQL 대신 객체지향 코드로 DB를 다룰 수 있어 더 빠르게
- 유지 보수 용이 - 구조적으로 잘 설계된 객체를 기반으로 하기에 코드 재사용이 쉽습니다. 따라서 설계 변경에도 유연하게 대응할 수 있습니다.
- 데이터베이스 독립성 - 특정 DBMS에 종속되지 않기 때문에 설정만 바꾸면 큰 수정없이 이식이 가능합니다.

단점)

설계의 중요성 - ORM은 구조가 복잡하기 때문에 초기 설계를 잘못하면 오히려 독이 된다 (성능 저하 or 일관성 문제)

성능과 복잡성 - 간단한 CRUD에는 적합하지만, 대규모 시스템에는 오히려 비효율적일 수 있습니다.

디버깅 어려움 - 자동 생성되는 SQL을 추적하기 어렵습니다.

## 왜 만들었을까?

## SQL에 의존적인 개발 - 반복적인 CRUD

테이블이 10개면 10개 다 아래의 과정을 거쳐야 하기 때문에 코드가 반복적이고 지루한 작업을 해야한다. 그 과정에서 객체 중심의 모델은 점점 데이터 중심의 모델로 변해간다

→ 생산성이 낮다.

   

## 패러다임의 불일치 (객체 VS 관계형 DB)

객체 지향 언어와의 불일치

: 자바, 파이썬 같은 언어는 객체 중심, DB는 테이블 중심

## . 객체 그대로 DB 다루고 싶다

```java
Useruser= userRepository.findById(1L);
user.setName("지은");

```

ORM이 내부에서:

```sql
SELECT*FROMuserWHERE id=1;
UPDATEuserSET name='지은'WHERE id=1;

```
## 💭 오늘의 회고 (Retrospective)

- **Keep (좋았던 점)**: 주제에 대해 깊게 생각할 수 있었습니다.
- **Problem (아쉬웠던 점)**: 소주제로 가는 과정이 좀 오래 걸렸습니다.
- **Try (시도할 점)**: 빠르게 몰입해봐야겠습니다.
---
## 🔗 참고 자료 (References)

- https://github.com/ej31
